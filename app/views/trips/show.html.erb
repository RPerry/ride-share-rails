<h2>Trip Details Page</h2>

<% if @trip.rating == nil%>
    <%= form_with model: @trip, class: 'trip-form' do |f| %>
    <div>
        <%= f.label :rating, "Rating" %>
        <%= f.select :rating, [1, 2, 3, 4, 5] %>
    </div>

  <%= f.submit "Rate" %>
<% end %>
<% end %>


<h2>Trip #<%= @trip.id %> Details</h2>

<table>
  <tr>
    <th>ID</th>
    <th>Date</th>
    <th>Driver</th>
    <th>Passenger</th>
    <th>Price</th>
    <th>Rating</th>
    <th>Edit</th>
    <th>Delete</th>
  </tr>
  <tr>
  <td><%= @trip.id %></td>
  <td><%= @trip.date%></td>
  <td>
  <% if !@trip.driver.nil?%>
  <%= link_to @trip.driver.name, driver_path(@trip.driver)%>
  <% else %>
    Deleted Driver
  <% end %>
  <td>
  <% if !@trip.passenger.nil?%>
   <%= link_to @trip.passenger.name, passenger_path(@trip.passenger)%>
    <% else %>
    Deleted Passenger
  <% end %>
  </td>
  <td>$<%= @trip.cost%> </td>
  <td><%= @trip.rating%></td>
  <td><%= link_to "Edit", edit_trip_path(@trip)%></td>
  <td><%= link_to "Delete", trip_path(@trip), method: :delete, data: { confirm: "Really really?" } %></td>
  </tr>
</table>